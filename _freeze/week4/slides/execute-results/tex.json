{
  "hash": "e4826d3445d3bd17cead07d556e531ce",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: ETC3550/ETC5550 Applied forecasting\nauthor: \"Week 4: Simple forecasting methods\"\nformat:\n  presentation-beamer:\n    knitr:\n      opts_chunk:\n        dev: \"cairo_pdf\"\n    pdf-engine: pdflatex\n    fig-width: 7.5\n    fig-height: 3.5\n    include-in-header: ../header.tex\n    keep_tex: yes\n    toc: true\n---\n\n\n\n# Four benchmark methods\n\n## Four benchmark methods\n\\fontsize{13}{14}\\sf\n\n### `MEAN(y)`: Average method\n\n  * Forecast of all future values is equal to mean of historical data $\\{y_1,\\dots,y_T\\}$.\n  * Forecasts: $\\hat{y}_{T+h|T} = \\bar{y} = (y_1+\\dots+y_T)/T$\n\n::: {.cell}\n::: {.cell-output-display}\n![](slides_files/figure-beamer/mean-method-explained-1.pdf)\n:::\n:::\n\n\\vspace*{10cm}\n\n## Four benchmark methods\n\\fontsize{13}{14}\\sf\n\n### `NAIVE(y)`: Na誰ve method\n\n  * Forecasts equal to last observed value.\n  * Forecasts: $\\hat{y}_{T+h|T} =y_T$.\n  * Consequence of efficient market hypothesis.\n\n::: {.cell}\n::: {.cell-output-display}\n![](slides_files/figure-beamer/naive-method-explained-1.pdf)\n:::\n:::\n\n\\vspace*{10cm}\n\n## Four benchmark methods\n\\fontsize{13}{14}\\sf\n\n### `SNAIVE(y ~ lag(m))`: Seasonal na誰ve method\n\n  * Forecasts equal to last value from same season.\n  * Forecasts: $\\hat{y}_{T+h|T} =y_{T+h-m(k+1)}$, where $m=$ seasonal period and $k$ is the integer part of $(h-1)/m$.\n\n::: {.cell}\n::: {.cell-output-display}\n![](slides_files/figure-beamer/snaive-method-explained-1.pdf)\n:::\n:::\n\n\\vspace*{10cm}\n\n## Four benchmark methods\n\\fontsize{13}{14}\\sf\n\n### `RW(y ~ drift())`: Drift method\n\n * Forecasts equal to last value plus average change.\n * Forecasts:\\vspace*{-.7cm}\n\n \\begin{align*}\n \\hat{y}_{T+h|T} & =  y_{T} + \\frac{h}{T-1}\\sum_{t=2}^T (y_t-y_{t-1})\\\\\n                 & = y_T + \\frac{h}{T-1}(y_T -y_1).\n \\end{align*}\\vspace*{-0.2cm}\n\n   * Equivalent to extrapolating a line drawn between first and last observations.\n\n## Four benchmark methods\n\n### Drift method\n\n::: {.cell}\n::: {.cell-output-display}\n![](slides_files/figure-beamer/drift-method-explained-1.pdf)\n:::\n:::\n\n\\vspace*{10cm}\n\n\n# Residuals\n\n## Fitted values\n\n - $\\hat{y}_{t|t-1}$ is the forecast of $y_t$ based on observations $y_1,\\dots,y_{t-1}$.\n - We call these \"fitted values\".\n - Sometimes drop the subscript: $\\hat{y}_t \\equiv \\hat{y}_{t|t-1}$.\n - Often not true forecasts since parameters are estimated on all data.\n\n### For example:\n\n - $\\hat{y}_{t} = \\bar{y}$ for average method.\n - $\\hat{y}_{t} = y_{t-1} + (y_{T}-y_1)/(T-1)$ for drift method.\n\n## Forecasting residuals\n\n\\begin{block}{}\n\\textbf{Residuals in forecasting:} difference between observed value and its fitted value: $e_t = y_t-\\hat{y}_{t|t-1}$.\n\\end{block}\n\\pause\\fontsize{13}{15}\\sf\n\n\\alert{Assumptions}\n\n  1. $\\{e_t\\}$ uncorrelated. If they aren't, then information left in  residuals that should be used in computing forecasts.\n  2. $\\{e_t\\}$ have mean zero. If they don't, then forecasts are biased.\n\n\\pause\n\n\\alert{Useful properties} (for distributions & prediction intervals)\n\n  3. $\\{e_t\\}$ have constant variance.\n  4. $\\{e_t\\}$ are normally distributed.\n\n\n## ACF of residuals\n\n  * We assume that the residuals are white noise (uncorrelated, mean zero, constant variance). If they aren't, then there is information left in  the residuals that should be used in computing forecasts.\n\n  * So a standard residual diagnostic is to check the ACF of the residuals of a forecasting method.\n\n  * We *expect* these to look like white noise.\n\n## Ljung-Box tests\n\n\\begin{block}{}\n$r_k = $ autocorrelation of residual at lag $k$\n\\end{block}\\vspace*{-0.3cm}\n\nTest *whole set* of $r_{k}$  values simultaneously.\n\n\\begin{block}{}\n\\centerline{$\\displaystyle\n Q^* = T(T+2) \\sum_{k=1}^\\ell (T-k)^{-1}r_k^2$}\nwhere $\\ell$  is max lag being considered and $T$ is number of observations.\n\\end{block}\n\n  * My preferences: $\\ell=10$ for non-seasonal data, $h=2m$ for seasonal data (where $m$ is seasonal period).\n  * If data are WN, $Q^*$ has $\\chi^2$ distribution with  $\\ell$ degrees of freedom.\n\n# Forecast distributions\n\n## Forecast distributions\n\n * A forecast $\\hat{y}_{T+h|T}$ is (usually) the mean of the conditional distribution $y_{T+h} \\mid y_1, \\dots, y_{T}$.\n * Most time series models produce normally distributed forecasts.\n * The forecast distribution describes the probability of observing any future value.\n\n## Forecast distributions\n\nAssuming residuals are normal, uncorrelated, sd = $\\hat\\sigma$:\n\n\\begin{block}{}\n\\begin{tabular}{ll}\n\\bf Mean: & $y_{T+h|T} \\sim N(\\bar{y}, (1 + 1/T)\\hat{\\sigma}^2)$\\\\[0.2cm]\n\\bf Na誰ve: & $y_{T+h|T} \\sim N(y_T, h\\hat{\\sigma}^2)$\\\\[0.2cm]\n\\bf Seasonal na誰ve: & $y_{T+h|T} \\sim N(y_{T+h-m(k+1)}, (k+1)\\hat{\\sigma}^2)$\\\\[0.2cm]\n\\bf Drift: & $y_{T+h|T} \\sim N(y_T + \\frac{h}{T-1}(y_T - y_1),h\\frac{T+h}{T}\\hat{\\sigma}^2)$\n\\end{tabular}\n\\end{block}\n\nwhere $k$ is the integer part of $(h-1)/m$.\n\nNote that when $h=1$ and $T$ is large, these all give the same approximate forecast variance: $\\hat{\\sigma}^2$.\n\n## Prediction intervals\n\n * A prediction interval gives a region within which we expect $y_{T+h}$ to lie with a specified probability.\n * Assuming forecast errors are normally distributed, then a 95% PI is\n \\begin{alertblock}{}\n\\centerline{$\n  \\hat{y}_{T+h|T} \\pm 1.96 \\hat\\sigma_h\n$}\n\\end{alertblock}\nwhere $\\hat\\sigma_h$ is the st dev of the $h$-step distribution.\n\n * When $h=1$, $\\hat\\sigma_h$ can be estimated from the residuals.\n\n## Prediction intervals\n\n * Point forecasts are often useless without a measure of uncertainty (such as prediction intervals).\n * Prediction intervals require a stochastic model (with random errors, etc).\n * For most models, prediction intervals get wider as the forecast horizon increases.\n * Use `level` argument to control coverage.\n * Check residual assumptions before believing them.\n * Prediction intervals are usually too narrow due to unaccounted uncertainty.\n",
    "supporting": [
      "slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}