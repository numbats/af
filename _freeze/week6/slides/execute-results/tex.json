{
  "hash": "67373893976de072c597dedb506753ca",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: ETC3550/ETC5550 Applied forecasting\nauthor: \"Week 6: Exponential smoothing\"\nformat:\n  presentation-beamer:\n    knitr:\n      opts_chunk:\n        dev: \"cairo_pdf\"\n    pdf-engine: pdflatex\n    fig-width: 7.5\n    fig-height: 3.5\n    include-in-header: ../header.tex\n    keep_tex: yes\n---\n\n\n\n## Historical perspective\n\n * Developed in the 1950s and 1960s as methods (algorithms) to produce point forecasts.\n * Combine a \"level\", \"trend\" (slope) and \"seasonal\" component to describe a time series.\n * The rate of change of the components are controlled by \"smoothing parameters\": $\\alpha$, $\\beta$ and $\\gamma$ respectively.\n  * Need to choose best values for the smoothing parameters (and initial states).\n  * Equivalent ETS state space models developed in the 1990s and 2000s.\n\n## ETS models\n\\Large\n\n**E**xponen**T**ial **S**moothing\n\n**E**rror **T**rend **S**easonal\n\n\\pause\\normalsize\n\n* ETS(A,N,N): **A**dditive Error, **N**o Trend, **N**o Seasonality\\pause\n* ETS(M,A,N): **M**ultiplicative Error, **A**dditive Trend, **N**o Seasonality\\pause\n* ETS(M,A,M): **M**ultiplicative Error, **A**dditive Trend, **M**ultiplicative Seasonality\n\netc\n\n## Big idea: control the rate of change\n\\fontsize{13}{14}\\sf\n\n$\\alpha$ controls the flexibility of the **level**\n\n* If $\\alpha = 0$, the level never updates (mean)\n* If $\\alpha = 1$, the level updates completely (naive)\n\n$\\beta$ controls the flexibility of the **trend**\n\n* If $\\beta = 0$, the trend is linear\n* If $\\beta = 1$, the trend changes suddenly every observation\n\n$\\gamma$ controls the flexibility of the **seasonality**\n\n* If $\\gamma = 0$, the seasonality is fixed (seasonal means)\n* If $\\gamma = 1$, the seasonality updates completely (seasonal naive)\n\n## Models and methods\n\n### Methods\n\n  * Algorithms that return point forecasts.\n\n### Models\n\n  * Generate same point forecasts but can also generate forecast distributions.\n  * A stochastic (or random) data generating process that can generate an entire forecast distribution.\n  * Allow for \"proper\" model selection.\n\n## ETS(A,N,N): SES with additive errors\n\n\\begin{block}{}\\vspace*{-0.8cm}\n\\begin{align*}\n\\text{State equation}      && \\ell_t          &= \\ell_{t-1}+\\alpha \\varepsilon_t\\\\\n\\text{Observation equation}&& y_t             &= \\ell_{t-1} + \\varepsilon_t\\\\\n\\text{Forecast equation}   && \\hat{y}_{t+h|t} &= \\ell_t\n\\end{align*}\n\\end{block}\\pause\n\n  * Forecast errors: $\\varepsilon_{t} = y_t - \\ell_{t-1} \\sim\\text{NID}(0,\\sigma^2)$\n  * \"innovations\" or \"single source of error\" because equations have the same error process, $\\varepsilon_t$.\n  * equivalent forecasts:\\vspace*{-0.7cm}\n$$\\hat{y}_{t+h|t} = (1-\\alpha)^t \\ell_0 + \\sum_{j=0}^{t-1} \\alpha(1-\\alpha)^j y_{t-j}$$\n\n## ETS(A,A,N): Holt's method with additive errors\n\n\\begin{block}{}\\vspace*{-0.8cm}\n  \\begin{align*}\n\\text{State equations}&&   \\ell_t&=\\ell_{t-1}+b_{t-1}+\\alpha \\varepsilon_t\\\\\n      && b_t&=b_{t-1}+ \\beta \\varepsilon_t\\\\\n      \\text{Observation equation}&& y_t&=\\ell_{t-1}+b_{t-1}+\\varepsilon_t\\\\\n\\text{Forecast equation} &&       \\hat{y}_{t+h|t} &= \\ell_{t} + h b_t\n  \\end{align*}\n\\end{block}\n\n  * Forecast errors: $\\varepsilon_{t} = y_t - \\ell_{t-1} \\sim\\text{NID}(0,\\sigma^2)$\n\n## ETS(A,A,A): Holt-Winters additive method \n\n\\begin{block}{}\\vspace*{-0.8cm}\n\\begin{align*}\n\\text{State equations}&& \\ell_t&=\\ell_{t-1}+b_{t-1}+\\alpha \\varepsilon_t\\\\\n&&        b_t&=b_{t-1}+\\beta \\varepsilon_t \\\\\n&&s_t &= s_{t-m} + \\gamma\\varepsilon_t \\\\\n\\text{Observation equation}&& y_t&=\\ell_{t-1}+b_{t-1}+s_{t-m} + \\varepsilon_t\\\\\n\\text{Forecast equation} && \\hat{y}_{t+h|t} &= \\ell_{t} + hb_{t} + s_{t+h-m(k+1)}\n\\end{align*}\n\\end{block}\n\n  * Forecast errors: $\\varepsilon_{t} = y_t - \\ell_{t-1} \\sim\\text{NID}(0,\\sigma^2)$\n  * $k$ is integer part of $(h-1)/m$.\n\n## ETS(M,N,N): SES with multiplicative errors.\n\n\\begin{block}{}\\vspace*{-0.8cm}\n\\begin{align*}\n\\text{State equation}&& \\ell_t              & = \\ell_{t-1}(1+\\alpha \\varepsilon_t)\\\\\n\\text{Observation equation}&& y_t           & = \\ell_{t-1}(1 + \\varepsilon_t)\\\\\n\\text{Forecast equation} && \\hat{y}_{t+h|t} & = \\ell_t\n\\end{align*}\n\\end{block}\\pause\n\n  * Relative forecast errors: $\\varepsilon_{t}=\\frac{y_t-\\pred{y}{t}{t-1}}{\\pred{y}{t}{t-1}} \\sim\\text{NID}(0,\\sigma^2)$\n  * Same point forecasts as ETS(A,N,N) with additive errors and same $\\alpha$.\n  * Different prediction intervals from ETS(A,N,N).\n\n## ETS(M,A,N): Holt's method with multiplicative errors.\n\n\\begin{block}{}\\vspace*{-0.8cm}\n  \\begin{align*}\n      \\text{State equations}&&\\ell_t&=(\\ell_{t-1}+b_{t-1})(1+\\alpha \\varepsilon_t)\\\\\n      &&b_t&=b_{t-1}+\\beta(\\ell_{t-1}+b_{t-1}) \\varepsilon_t\\\\\n      \\text{Observation equation}&&y_t&=(\\ell_{t-1}+b_{t-1})(1+\\varepsilon_t)\\\\\n\\text{Forecast equation} &&        \\hat{y}_{t+h|t} &= \\ell_{t} + h b_t\n  \\end{align*}\n\\end{block}\n\n  * Relative forecast errors: $\\varepsilon_{t}=\\frac{y_t-\\pred{y}{t}{t-1}}{\\pred{y}{t}{t-1}} \\sim\\text{NID}(0,\\sigma^2)$\n  * Same point forecasts as ETS(A,A,N) with additive errors and same $\\alpha$ and $\\beta$\n  * Different prediction intervals from ETS(A,A,N).\n\n## ETS(M,A,M): Holt-Winters multiplicative method\n\n\\begin{block}{}\\vspace*{-0.8cm}\n\\begin{align*}\n\\text{State equations}&& \\ell_t&=(\\ell_{t-1}+b_{t-1})(1+\\alpha \\varepsilon_t)\\\\\n&&        b_t&=b_{t-1} +\\beta(\\ell_{t-1}+b_{t-1}) \\varepsilon_t \\\\\n&&s_t &= s_{t-m}(1 + \\gamma\\varepsilon_t) \\\\\n\\text{Observation equation}&& y_t&= (\\ell_{t-1}+b_{t-1})s_{t-m}(1 + \\varepsilon_t)\\\\\n\\text{Forecast equation} && \\hat{y}_{t+h|t} &= (\\ell_{t} + hb_{t}) s_{t+h-m(k+1)}\n\\end{align*}\n\\end{block}\n\n  * Relative forecast errors: $\\varepsilon_{t} = \\frac{y_t - \\hat{y}_{t|t-1}}{\\hat{y}_{t|t-1}} \\sim\\text{NID}(0,\\sigma^2)$\n  * $k$ is integer part of $(h-1)/m$.\n\n## ETS models\n\\fontsize{11}{12}\\sf\n\n\\begin{block}{}\n\\begin{tabular}{ll|ccc}\n  \\multicolumn{2}{l}{\\alert{\\bf Additive Error}} &        \\multicolumn{3}{c}{\\bf Seasonal Component}         \\\\\n          \\multicolumn{2}{c|}{\\bf Trend}         &         N         &         A         &         M         \\\\\n        \\multicolumn{2}{c|}{\\bf Component}       &     ~(None)~      &    (Additive)     & (Multiplicative)  \\\\ \\cline{3-5}\n           &                                     &                   &                   &  \\\\[-0.4cm]\n  N        & (None)                              &       A,N,N       &       A,N,A       &    A,N,M     \\\\\n           &                                     &                   &                   &  \\\\[-0.4cm]\n  A        & (Additive)                          &       A,A,N       &       A,A,A       &    A,A,M     \\\\\n           &                                     &                   &                   &  \\\\[-0.4cm]\n  A\\damped & (Additive damped)                   &   A,A\\damped,N    &   A,A\\damped,A    & A,A\\damped,M\n\\end{tabular}\n\\end{block}\n\n\\begin{block}{}\n\\begin{tabular}{ll|ccc}\n  \\multicolumn{2}{l}{\\alert{\\bf Multiplicative Error}} &     \\multicolumn{3}{c}{\\bf Seasonal Component}      \\\\\n             \\multicolumn{2}{c|}{\\bf Trend}            &      N       &         A         &        M         \\\\\n           \\multicolumn{2}{c|}{\\bf Component}          &   ~(None)~   &    (Additive)     & (Multiplicative) \\\\ \\cline{3-5}\n           &                                           &              &                   &  \\\\[-0.4cm]\n  N        & (None)                                    &    M,N,N     &       M,N,A       &      M,N,M       \\\\\n           &                                           &              &                   &  \\\\[-0.4cm]\n  A        & (Additive)                                &    M,A,N     &       M,A,A       &      M,A,M       \\\\\n           &                                           &              &                   &  \\\\[-0.4cm]\n  A\\damped & (Additive damped)                         & M,A\\damped,N &   M,A\\damped,A    &   M,A\\damped,M\n\\end{tabular}\n\\end{block}\n\n## Additive error models\n\n\\placefig{0}{1.5}{width=16.cm,trim=0 120 0 0,clip=true}{fig_7_ets_add.pdf}\n\n## Multiplicative error models\n\n\\placefig{0}{1.5}{width=16.cm,trim=0 120 0 0,clip=true}{fig_7_ets_multi.pdf}\n",
    "supporting": [
      "slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}